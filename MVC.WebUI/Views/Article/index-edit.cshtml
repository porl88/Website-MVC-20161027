@using Services.Article.Transfer
@model List<ArticleSummaryDto>
@{
	ViewBag.Title = "Articles";
}

<section>

	<h1>Articles</h1>

	@if (TempData["SuccessMessage"] != null)
	{
		<section class="alert success">
			<p>@TempData["SuccessMessage"]</p>
		</section>
	}

	@if (TempData["FailureMessage"] != null)
	{
		<section class="alert error">
			<p>@TempData["FailureMessage"]</p>
		</section>
	}

	@Html.ActionLink("Add new article", "Add")

	@if (Model != null && Model.Any())
	{
		<form action="@Url.Action("Delete")" method="post">
			@Html.AntiForgeryToken()
			<ol>
				@foreach (var article in Model)
				{
					<li>
						<article>
							<h2>@Html.ActionLink(article.Title, "Details", new { id = article.Id })</h2>
							<p>@article.Summary</p>
						</article>
						@Html.ActionLink("Edit", "Edit", new { id = article.Id })
						<button name="id" value="@article.Id">Delete</button>
					</li>
				}
			</ol>
		</form>
	}

</section>